<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Lilly!</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <button class="birthday-btn" id="birthdayBtn">Press Me</button>
    <div class="heart-container" id="heartContainer">
      <svg class="heart" viewBox="0 0 200 200">
        <path 
          id="heartOutline"
          d="M100 30
            Q140 0 170 30
            Q200 60 100 180
            Q0 60 30 30
            Q60 0 100 30Z"
          stroke="#fff" stroke-width="5" fill="none"/>
        <path 
          id="heartFill"
          d="M100 30
            Q140 0 170 30
            Q200 60 100 180
            Q0 60 30 30
            Q60 0 100 30Z"
          fill="red"
          style="stroke:none; opacity:0;"/>
      </svg>
      <div class="loading" id="loadingText">Loading...</div>
    </div>
    <div class="ilove-container" id="iloveContainer">
      <span class="love-text">I love you <span class="name">LILLY</span></span>
    </div>
    <div class="present-stage" id="presentStage">
      <div class="present">
        <div class="lid"></div>
        <div class="box"></div>
        <div class="letters">
          <span>H</span><span>A</span><span>P</span><span>P</span><span>Y</span>
          <span>B</span><span>I</span><span>R</span><span>T</span><span>H</span><span>D</span><span>A</span><span>Y</span>
          <span>L</span><span>I</span><span>L</span><span>L</span><span>Y</span>
        </div>
      </div>
      <div class="happy-birthday" id="happyBirthdayTop"></div>
    </div>
  </div>
<script>
const btn = document.getElementById('birthdayBtn');
const heartContainer = document.getElementById('heartContainer');
const heartFill = document.getElementById('heartFill');
const loadingText = document.getElementById('loadingText');
const iloveContainer = document.getElementById('iloveContainer');
const presentStage = document.getElementById('presentStage');
const letters = document.querySelectorAll('.letters span');
const happyBirthdayTop = document.getElementById('happyBirthdayTop');

btn.onclick = () => {
  btn.classList.add('fadeOut');
  setTimeout(() => {
    heartContainer.classList.add('fadeIn');
    loadingText.style.opacity = "1";
    let fillAmt = 0;
    let interval = setInterval(() => {
      fillAmt += 0.02;
      heartFill.style.opacity = fillAmt;
      if (fillAmt >= 1) {
        clearInterval(interval);
        loadingText.style.opacity = "0";
        setTimeout(() => {
          heartContainer.classList.add('fadeOut');
          setTimeout(() => {
            iloveContainer.classList.add('showLove');
            setTimeout(() => {
              iloveContainer.classList.remove('showLove');
              presentStage.classList.add('showPresent');
              setTimeout(() => {
                document.querySelector('.lid').classList.add('lidOpen');
                setTimeout(() => {
                  letters.forEach((letter, i) => {
                    setTimeout(() => {
                      letter.classList.add('flyUp');
                      happyBirthdayTop.innerHTML += letter.textContent;
                    }, i * 120);
                  });
                }, 800);
              }, 900);
            }, 2200);
          }, 900);
        }, 1000);
      }
    }, 40);
  }, 700);
};
</script>
</body>
</html>
