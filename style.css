body, html {
  margin: 0;
  height: 100%;
  font-family: 'Montserrat', Arial, sans-serif;
  background: #222;
}

.container {
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  position:relative;
}

.birthday-btn {
  font-size:2rem;
  background:none;
  border:none;
  color:white;
  padding:1em 2em;
  cursor:pointer;
  border-radius:22px;
  box-shadow: 0 2px 8px #0008;
  transition:.6s opacity, .8s transform;
  z-index:4;
}
.birthday-btn.fadeOut {
  opacity:0;
  pointer-events:none;
  transform:scale(0.96) translateY(8px);
}

.heart-container {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  opacity:0;
  transition:.8s opacity,.7s transform;
  pointer-events:none;
  z-index:3;
}
.heart-container.fadeIn {
  opacity:1;
  pointer-events:auto;
  transform:translate(-50%,-60%);
}
.heart-container.fadeOut {
  opacity:0;
  pointer-events:none;
}

.heart {
  width:180px;
  height:180px;
  display:block;
  margin:auto;
  filter:drop-shadow(0 2px 12px #ff003850);
}
#heartFill {
  opacity:0;
  transition:.2s opacity;
}
.loading {
  color:white;
  font-size:1.2rem;
  font-weight:500;
  text-align:center;
  margin-top:16px;
  opacity:0;
  transition:.5s opacity;
}

.ilove-container {
  position:absolute;
  top:52%;
  left:50%;
  transform:translate(-50%,-50%) scale(0.8);
  opacity:0;
  transition:1.1s opacity,.9s transform;
}
.ilove-container.showLove {
  opacity:1;
  transform:translate(-50%,-54%) scale(1.15);
}
.love-text {
  font-size:2.4rem;
  color:#fff;
  letter-spacing:2px;
  font-weight:700;
  text-shadow:2px 2px 9px #f5062070;
}
.love-text .name {
  color:#fe31a3;
  letter-spacing:3px;
  font-size:2.6rem;
  text-shadow: 2px 3px 15px #fe31a3a0;
}

.present-stage {
  position:absolute;
  top:55%;
  left:50%;
  transform:translate(-50%,-50%);
  opacity:0;
  pointer-events:none;
  z-index:2;
  min-width:240px;
}
.present-stage.showPresent {
  opacity:1;
  pointer-events:auto;
  animation:presentPop 0.8s cubic-bezier(.2,1.7,.4,1.1) 1;
}
@keyframes presentPop {
  0% {transform:translate(-50%,-70%) scale(0.6);}
  80% {transform:translate(-50%,-48%) scale(1.05);}
  100% {transform:translate(-50%,-50%) scale(1);}
}

.present { position:relative; width:180px; height:180px; margin:auto;}
.lid, .box {
  position:absolute;
  left:0;
  width:180px; height:40px;
  background:#fff;
  border-radius:10px 10px 0 0;
  top:0;
  z-index:2;
  box-shadow: 0px 6px 10px #0003;
}
.lid { 
  background: linear-gradient(90deg, #fe31a3, #fec731 70%);
  border-bottom:5px solid #fff;
  box-shadow: 0px 6px 20px #fe31a340;
  transition: .7s transform cubic-bezier(.36,2,.38,.9);
}
.lid.lidOpen {
  transform:translateY(-60px) rotate(-16deg) scaleX(1.1);
  box-shadow: 0px 16px 18px #fe31a340;
}
.box {
  top:40px;
  height:105px;
  background:linear-gradient(120deg,#fff,#fec731 80%);
  border-radius:0 0 14px 14px;
  border-top:4px solid #fe31a3;
}

.letters {
  position:absolute;
  left:0; top:80px; width:180px;
  height:30px;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:4px;
  font-size:1.6rem;
  color:#fe31a3;
  font-weight:600;
  z-index:3;
}
.letters span {
  opacity:1;
  transform:translateY(0);
  transition:.7s transform, .5s opacity;
  position:relative;
  top:0;
}
.letters span.flyUp {
  opacity:0;
  transform:translateY(-140px) scale(1.3);
  transition:.86s transform cubic-bezier(.25,1,.3,1.5), .7s opacity;
}

.happy-birthday {
  position:absolute;
  top:-40px;
  left:50%;
  transform:translateX(-50%);
  font-size:2.2rem;
  font-weight:900;
  color:#ffe14c;
  letter-spacing:6px;
  text-shadow:2px 5px 15px #fe31a3a0;
  width:100vw;
  display:flex;
  justify-content:center;
  z-index:8;
  pointer-events:none;
  font-family:'Montserrat',sans-serif;
  mix-blend-mode: lighten;
}
.happy-birthday::after {
  content:"";
  display:block;
  width:100%;
  height:3px;
  background:linear-gradient(90deg,#fe31a3 35%,#ffe14c 80%,#fff 100%);
  margin-top:12px;
  opacity:0.7;
}
